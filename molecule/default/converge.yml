---
- name: Converge
  hosts: all
  vars:
    graylog_install_elasticsearch: False
    graylog_install_mongodb:       False
    graylog_install_nginx:         False
    graylog_install_java:          False
    graylog_not_testing:           False

    es_major_version: "5.x"
    es_instance_name: "graylog"
    es_scripts: False
    es_templates: False
    es_version_lock: False
    es_heap_size: "1g"

    es_config:
      node.name: "graylog"
      cluster.name: "graylog"
      http.port: 9200
      transport.tcp.port: 9300
      network.host: "0.0.0.0"
      node.data: True
      node.master: True

    graylog_web_endpoint_uri: "http://127.0.0.1:9000/api/"

  tasks:
    - name: "Include graylog-ansible-role"
      include_role:
        name: "graylog-ansible-role"
  become: yes
